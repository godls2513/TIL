# 객체지향 I

---

### 객체 지향 언어의 특징

- 코드의 재사용성이 높음
- 코드 관리 용이, 유지 보수 용이
- 신뢰성의 높음
- 핵심개념 - 캡슐화, 상속, 추상화, 다형성

### 클래스와   객체

- 클래스 : 객체를 정의해 놓은 설계도
- 데이터와 함수의 결합 - 서로 관련된 여러 데이터를 하나로 저장할 수 있는 공간
- 사용자 정의 타입 : 프로그래머가 서로 관련된 변수들을 묶어서 하나의 타입으로 새로 추가하는 것

```java
class Time{

	int hour;

	int minute;

	float second;

  }	
```

- 클래스의 용도 : 객체를 생성하는 데 사용
- 객체(iv의 묶음) : 실제로 존재하는 것, 사물 또는 개념 (*여기서 iv는 instance variable)
- 객체의 용도 : 객체가 가지고 있는 기능(메서드)과 속성(변수)에 따라 다름

ex) 책상, 의자, 자동차, 수학 공식, 프로그램 에러와 같은 논리나 개념

- 객체를 사용한다는 것은 객체가 가지고 있는 속성(변수)과 기능(메서드)을 사용한다는 뜻

  객체의 구성요소 - 속성과 기능

  객체는 속성과 기능의 집합 (멤버) 

  ​	속성(property) -> 멤버변수(variable)      채널 -> int channel;	

  ​	기능(function) -> 메서드(method)       채널 높이기 -> channelUp( ){ }

### 객체와 인스턴스

- 클래스로부터 객체를 만드는 과정 - 클래스의 인스턴스화
- 어떤 클래스로부터 만들어진 객체 : 인스턴스

클래스(설계도) -------(인스턴스화)-----------> 인스턴스(제품)


###  한 파일에 여러 클래스 작성하기

- 하나의 소스파일에 하나의 클래스가 원칙이지만 둘 이상의 클래스도 가능

- 소스파일의 이름은 public     class 이름과 일치 해야한다. public class는 하나뿐이다.

- 소스파일 내 public     class가 없다면 아무 이름의 class 가능

- - 올바른 작성 예 

- ```java
  Hello2.java
  
  public class Hello2{}
  class Hello3{}
  ```

 

- ### 객체의 생성과 사용

- 객체 생성 : 클래스명 참조변수명 = new 클래스명( );

- 클래스명 변수명; // 클래스 객체를 참조하기 위한 참조변수 선언

-  변수명 = new 클래스명(); // 클래스의 객체 생성 후, 객체의 주소에 참조 변수 저장

  ex)   Tv t; 	//  Tv 클래스 타입의 참조변수 t 선언

  ​		t = new TV();	//	Tv인스턴스 생성한 후, 생성된 Tv인스턴스의 주소를 참조변수 t에 저장

- 인스턴스의 멤버변수 사용 : 참조 변수.멤버변수

ex) 실생활 적용

Tv - 인스턴스

리모콘 - 참조변수 

리모콘의 속성과 기능 - 멤버변수

- 인스턴스는 참조 변수를 통해서만 다룰 수 있으며, 참조타입은 인스턴스 타입과 일치해야 한다.

 

### 객체 배열

- 참조 변수들을 하나로 묶은 참조 변수 배열

  ​	Tv[ ] tvArr = new Tv[3];

- 객체 배열을 생성하고 각 요소에 저장을 해주어야한다.

  tvArr[0] = new Tv();

  tvArr[1] = new Tv();

  tvArr[2] = new Tv();

  ​	또는

  Tv[ ] tvArr = { new Tv( ), new Tv( ), new Tv( ) };

- 객체의 수가 많으면 for문을 사용

  ```java
   Tv[ ] tvArr = new Tv[100]; // 객체 배열 생성
  
  for( int i=0; i<tvArr.length; i++) {
  
  tvArr[i] = new Tv();      // 각 인덱스 배열에 저장
  
  }
  ```

## 선언 위치에 따른 변수의 종류
### 클래스 영역 
- 인스턴스 변수(iv) : 클래스 영역에 선언, 객체를 생성해야 사용 가능, 인스턴스가 생성되었을 때 생성

- 클래스 변수(cv) 
    - iv 앞에 static을 붙임, 클래스가 메모리에 올라갈 때 생성, 자동 생성
    - 모든 인스턴스가 공통된 저장공간(변수)를 공유
    - 인스턴스 생성 x, 아무데나 사용 가능
    - 클래스이름.클래스 변수; 와 같은 형식으로 사용

### 메서드 영역 
 - 지역 변수(local variable) : 메서드 내 선언, 클래스 영역 이외의 영역(메서드, 생성자, 초기화 블록 내부)
 - 메서드 종료 -> 자동 소멸
 - 변수 선언문에 수행되었을 때 생성

### 클래스 변수와 인스턴스 변수
<br>

### 객체의 속성 
- 숫자, 무늬 … 개별속성 iv 참조변수.변수이름
- 폭, 높이…. 공통속성 cv 클래스이름.변수이름 으로 사용

- iv는 인스턴스가 생성될 때마다 생성되므로 각기 다른 값으로 유지할 수 있지만, 

- cv는 하나의 저장공간을 공유하므로 항상 공통된 값을 갖는다.

### 지역변수(lv) 

- 메서드 내에 선언된 변수
- 서로 다른 메서드라면 같은 이름의 변수 선언 가능

###  메서드( method )

- 특정 작업을 수행하는 일련의 문장들을 하나로 묶은 것

- 값(입력)을 받아서 처리하고, 결과를 반환(출력)

   	ex)  sqrt(), println(), random();

### 메서드의 장점  
1. 코드 중복을 줄일 수 있음
2. (한 곳에서 수행하기 때문에) 관리가 쉽다
3. 코드 재사용 가능
4. 코드가 간결해서 이해하기 쉽다.

### 메서드는 선언부와 구현부로 구성
<br>

*선언부*<br> 
반환타입 메서드이름 ( 타입 변수명, 타입 변수명 …)

*구현부*<br> 
{

​	메서드 호출시 수행 될 코드

}

```java
int add( int x, int y) {
      int result = x + y;    
    return result;
} 
```



### 메서드의 선언부

- 메서드의 선언부를 변경하게 되면, 메서드가 호출되는 모든 곳이 함께 변경됨
- 그래서 변경사항이 발생하지 않도록 신중!

### 매개변수의 선언

- 메서드가 작업을 수행하는 데 필요한 값(입력) 제공을 위한 것
- 필요한 값의 개수만큼 변수 선언
- 변수간 구분은 쉼표 ' , '

( * 주의 - 변수 타입은 생략할 수 없다. ex) int add (int x, y){} // 에러남 )

- 매개변수에 입력 값이 없으면 빈 괄호( )만 입력한다.

### 반환타입

- 메서드 작업 수행의 결과(출력)인 반환값의 타입
- void는 반환값이 없다 - return을 입력하지 않음

### 메서드의 구현부

- { }안에 메서드를 호출 했을 때 수행될 문장을 넣음
- 대표적인 메서드 main()메서드

### return 문

- 반환 타입이 void가 아니면 반드시 return 반환값; 필요

- 반환값을 호출한 메서드로 전달

- 반환값은 반환타입과 일치하거나 자동형변환이 가능한 것이어야함

- 메서드 내에서 조건식을 쓸 때 return문이 거짓이어도 return문을 쓸 것

- return문은 단 하나의 값만 반환

- 메서드 호출방법 : 메서드이름( 값1, 값2, …);

  ​	ex)     printDan();

  ​			  int result = add(3, 5);

- 메서드 실행 흐름

 객체 생성 -> 메서드 호출 -> 메서드 안 수행문 수행 -> 호출한 곳으로 반환

### 인수(argument)

- 메서드를 호출할 때 괄호( ) 안에 지정해준 값들
- 개수와 순서는 매개변수와 일치해야함 또는 매개변수의 타입과 일치하거나 자동 형변환이 가능한 것이어야함

###  호출 스택(call stack)

- 메서드의 작업에 필요한 메모리공간

  ```java
  class Hello{
  public static void main(String[] args) {
   	Sytem.out.println("Hello");
  }
  ```

  - 흐름

  ![호출스택](OOPFirst.assets/%ED%98%B8%EC%B6%9C%EC%8A%A4%ED%83%9D%ED%9D%90%EB%A6%84.jpg)

- 호출스택의 특징 

  1. 메서드가 호출되면 수행에 필요한 만큼의 메모리를 스택에 할당 받는다.
  2. 메서드가 수행을 마치고 나면 사용했던 메모리를 반환하고 스택에서 제거된다.
  3. 호출스택 제일 위에 있는 메서드가 현재 실행 중인 메서드이다
  4. 아래에 있는 메서드가 바로 위의 메서드를 호출한 메서드이다.

 

- 기본형 매개변수와 참조형 매개변수

- - 기본형 매개변수(8개) : 변수의 값을 읽기만 가능 (read only)
  - 참조형 매개변수 : 변수의 값을 읽고 변경 가능( read & write )

기본형 매개변수 예제

```java
class Data {int x;}
public class Example {
public static void main(String[] args) {
	Data d = new Data();
	d.x = 10;
	System.out.println("main() : x = " + d.x);
	change(d.x);
    System.out.println("After change(d.x)");
	System.out.println("main() : x = " + d.x);
}
static void change(int x) { //기본형 매개변수
	x = 1000;
	System.out.println("change() : x = " + x);
	}
}
```

![기본형매개변수예제](OOPFirst.assets/%EA%B8%B0%EB%B3%B8%ED%98%95%EB%A7%A4%EA%B0%9C%EB%B3%80%EC%88%98%20%ED%9D%90%EB%A6%84.jpg)

참조형 매개변수 예제

```java
class Data2 {int x;}
public class Example {
public static void main(String[] args) {
	Data2 d = new Data2();
	d.x = 10;
	System.out.println("main() : x = " + d.x);
   	change(d);
    System.out.println("After change(d.x)");
	System.out.println("main() : x = " + d.x);
}
static void change(Data2 d) { //참조형 매개변수
	d.x = 1000;
	System.out.println("change() : x = " + d.x);
	}
}
```

![참조형매개변수예제](OOPFirst.assets/%EC%B0%B8%EC%A1%B0%ED%98%95%EB%A7%A4%EA%B0%9C%EB%B3%80%EC%88%98%20%ED%9D%90%EB%A6%84.jpg)

- 참조형 반환타입 static Data copy(Data d) { }
- 객체 주소를 반환 한다
- 객체 주소를 줬기 때문에 (리모콘 토스) 객체를 다룰 수 있게 됨

### static 메서드와  인스턴스 메서드
<br>

  - 클래스 영역에 선언된 변수 : 멤버 변수
  - static이 붙은 것은 클래스 변수( static 변수, class variable)
  - static이 붙지 않은 것은 인스턴스 변수(iv)
  - static은 모든 인스턴스에 공통으로 사용하는 것에 붙임
  - cv는 인스턴스 생성 안해도 됨
  - cv는 인스턴스 변수 사용 X
  - 메서드 내 인스턴스 변수 사용하지 않는다면, static을 붙이는 것을 고려

###  오버로딩

- 한 클래스 내에 ***같은 이름*** 의 메서드를 여러 개 정의하는 것

- 성립 조건 

  1. 매서드 이름 동일
  2. 매개변수의 개수 또는 타입이 달라야함
  3. ex) println();

올바른 예)

```java 
long add (int a, long b) {return a + b;}

long add (long a, int b) {return a + b;}
```

### 생성자(     constructor ) - 인스턴스가 생성될 때마다 호출되는 ***인스턴스 초기화 메서드***

- 조건 
  - 생성자의 이름은 클래스의 이름과 같아야함
  - 리턴 값이 없다. ( void는 안붙임 )
  - 모든 클래스는 반드시 생성자를 가진다.

### 기본 생성자( default constructor )

- 클래스이름( ){ }  -> (매개변수)도 {하는일}도 없음

  point( ){ }

( 클래스 내에 생성자가 하나도 없는 경우에만 자동적으로 컴파일러가 생성자를 추가해준다. )

### 매개변수가 있는 생성자

- 인스턴스를 생성과 동시에 원하는 값으로 초기화 가능

- 코드가 간결하고 직관적

  ​	클래스이름 (타입 변수명, 타입 변수명, …)</br>
  {

  ​		//할일 입력

  ​	}

### 생성자에서 다른 생성자 호출하기 - this( )

- 조건<br> 
  - 생성자의 이름으로 클래스이름 대신 ***this*** 사용
  - 한 생성자에서 다른 생성자를 호출할 때는 반드시 ***첫줄***에서만 호출

### 객체 자신을 가리키는 참조변수 - this
<br>

- 생성자의 매개변수로 선언된 변수의 이름이 인스턴스 변수와 같은 경우

  인스턴스 변수 앞에 this를 사용

  this.color = color 
  
   color = color -> 둘 다 지역변수(lv)로 간주

- this는 참조변수로 인스턴스 자신을 가리킨다.

- static 메서드에서는 사용 X

- 모든 im 에서는 this가 숨겨진 채로 존재한다.

 

간단정리

this - 인스턴스 자신을 가리키는 참조변수, 인스턴스의 주소가 저장

this( ) - this(매개변수), 생성자, 같은 클래스의 다른 생성자를 호출할 때 사용

 

### 변수의 초기화

- 변수를 선언하고 처음으로 값을 저장하는 것

- cv, iv와 배열의 초기화는 선택, 지역 변수의 초기화는 필수!!

- 멤버변수의 초기화 

  ​	순서: cv초기화 -> iv 초기화

  ​	자동 초기화 -> 명시적 초기화(간단) -> 초기화 블럭, 생성자(복잡)
